(this.webpackJsonpthephonebook=this.webpackJsonpthephonebook||[]).push([[0],{20:function(e,n,t){},40:function(e,n,t){"use strict";t.r(n);var c=t(2),o=t(15),r=t.n(o),s=(t(20),t(6)),i=t(3),u=t(4),l=t.n(u),a="/api/people",d=function(){return console.log("inside get All"),l.a.get(a).then((function(e){return e.data}))},j=function(e){return l.a.post(a,e).then((function(e){return e.data}))},b=function(e){var n=a+"/".concat(e);return l.a.delete(n).then((function(e){return e.data}))},f=function(e){var n=a+"/".concat(e.id);return l.a.put(n,e).then((function(e){return e.data}))},h=t(0);var O=function(e){var n=e.listOfPeople,t=e.deleteSelectedPerson;return console.log(n),Object(h.jsx)("ul",{children:n.map((function(e){return Object(h.jsx)(v,{name:e.name,number:e.number,id:e.id,deleteButton:function(){return t(e)}},e.id)}))})},m=function(e){var n=e.addNewPerson,t=e.setCurrentName,c=e.setCurrentNumber,o=e.newName,r=e.newNumber;return Object(h.jsxs)("form",{onSubmit:n,children:[Object(h.jsxs)("div",{children:["Name:",Object(h.jsx)("input",{value:o,onChange:t})]}),Object(h.jsxs)("div",{children:["Number:",Object(h.jsx)("input",{value:r,onChange:c})]}),Object(h.jsx)("div",{children:Object(h.jsx)("button",{type:"submit",children:"add"})})]})},g=function(e){var n=e.newFilter,t=e.setCurrentFilter;return Object(h.jsxs)("div",{children:["filter: ",Object(h.jsx)("input",{value:n,onChange:t})]})},v=function(e){var n=e.number,t=e.name,c=e.id,o=e.deleteButton;return console.log(n),Object(h.jsxs)("div",{children:[Object(h.jsxs)("li",{class:"note",children:[t," : ",n," : ",c]})," ",Object(h.jsx)("button",{onClick:o,children:"delete"})]})},x=function(e){var n=e.message;return null===n?null:Object(h.jsx)("div",{className:"error",children:n})},p=function(){var e=Object(c.useState)([]),n=Object(i.a)(e,2),t=n[0],o=n[1],r=Object(c.useState)(""),u=Object(i.a)(r,2),l=u[0],a=u[1],v=Object(c.useState)(""),p=Object(i.a)(v,2),w=p[0],N=p[1],C=Object(c.useState)(""),S=Object(i.a)(C,2),P=S[0],k=S[1],F=Object(c.useState)([]),y=Object(i.a)(F,2),B=y[0],D=y[1],E=Object(c.useState)(null),J=Object(i.a)(E,2),A=J[0],I=J[1];console.log("hello"),Object(c.useEffect)((function(){console.log("inside use effect"),d().then((function(e){console.log("promise fulfilled"),o(e)}))}),[]);var L=function(e){console.log("show error message inside"),I(e),setTimeout((function(){I(null)}),5e3)};return Object(h.jsxs)("div",{children:[Object(h.jsx)(x,{message:A}),Object(h.jsx)("h2",{children:"Phonebook"}),Object(h.jsx)(g,{newFilter:P,setCurrentFilter:function(e){var n=e.target.value,c=t.filter((function(e){return e.name.includes(P)}));console.log("new filter is: ",n),console.log("new filteredList is:",c),k(n),D(c)}}),Object(h.jsx)("h2",{children:"add a new contact! "}),Object(h.jsx)(m,{addNewPerson:function(e){e.preventDefault();var n=t.find((function(e){return e.name===l}));console.log("match found",n);var c=Object(s.a)(Object(s.a)({},n),{},{number:w});n?(window.confirm("add a new number to this existing contact?")&&f(c),a(""),N("")):(console.log(t),o(t.concat(c)),j(c).then((function(e){console.log(e),L("person has been successfully added")})).catch((function(e){L("an error has occured in adding new person")})),N(""),a(""))},setCurrentName:function(e){console.log("name is:",e.target.value),a(e.target.value)},setCurrentNumber:function(e){N(e.target.value)},newName:l,newNumber:w}),Object(h.jsx)("h2",{children:"Numbers"}),Object(h.jsx)(O,{listOfPeople:B,deleteSelectedPerson:function(e){var n=e.id,t=window.confirm("Delete ".concat(e.name,"?"));console.log("inside delete selected"),console.log("id is:",n),t&&(b(n).then((function(e){console.log(e)})),a(""),N(""))}})]})};r.a.render(Object(h.jsx)(p,{}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.55add276.chunk.js.map